/*
 * This build file was auto generated by running the Gradle 'init' task
 * by 'anatali' at '14/08/16 10.00' with Gradle 2.14.1
 */

apply plugin: 'java'

// In this section you declare where to find the dependencies of your project
repositories {
    mavenCentral()
}

// In this section you declare the dependencies for your production and test code
dependencies {
    compile 'org.slf4j:slf4j-api:1.7.21'
    testCompile 'junit:junit:4.12'
}

/*
---------------------------------------------------------------
Added by AN  
---------------------------------------------------------------
*/
apply plugin: 'eclipse'

  	sourceSets {
	main {
		 java {
		   srcDirs = ['src']
		}
		}
	test {
	 	java {
	   		srcDirs = ['test']
	 	}
	}
	}

 /*
 ------------------------------------------------------------
 TESTING
------------------------------------------------------------
 */
 test {
	testLogging {
		outputs.upToDateWhen { false }		
		showStandardStreams = true		
		events 'passed' //,  'started', 'skipped', 'failed'		
	}
}
test.afterSuite { TestDescriptor suite, TestResult result -> //add closure to be notified
	if( !suite.parent && result.getTestCount() > 0) { //there is at least one test
		long elapsedTestTime = result.getEndTime() - result.getStartTime()
		System.out.println(
		"""AFTERSUITE Elapsed time for execution of ${result.getTestCount()} test(s):  $elapsedTestTime ms""");
	}
}
 /*
 ------------------------------------------------------------
 EXECUTABLE jar
------------------------------------------------------------
 */
jar {
	manifest {
		attributes 'Main-Class': 'it.unibo.appl.DbAppl'
	}
}
